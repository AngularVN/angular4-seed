<nav class="sidebar" [class.show-scrollbar]="setting.layout.asideScrollbar">
  <!-- START sidebar nav-->
  <ul class="nav">
    <li *ngFor='let item of menuItems; let idx = index;' [routerLinkActive]="['active']" [routerLinkActiveOptions]="{exact:true}">
      <!-- single menu item -->
      <a *ngIf="!item.submenu" [routerLink]="item.link" [attr.route]="item.link" title="{{item.text}}">
        <span class="pull-right" *ngIf="item.alert" [ngClass]="item.label || 'label label-success'">{{item.alert}}</span>
        <em class="{{item.icon}}" *ngIf="item.icon"></em>
        <em class="icon-plus" *ngIf="!item.icon"></em>
        <span>{{(item.translate | translate) || item.text}}</span>
      </a>
      <!-- has submenu -->
      <a *ngIf="item.submenu" title="{{item.text}}" (click)="collapses[idx]=!collapses[idx]">
        <span class="pull-right" *ngIf="item.alert" [ngClass]="item.label || 'label label-success'">{{item.alert}}</span>
        <em class="{{item.icon}}" *ngIf="item.icon"></em>
        <em class="icon-plus" *ngIf="!item.icon"></em>
        <span>{{(item.translate | translate) || item.text}}</span>
      </a>
      <!-- SUBLEVEL -->
      <ul *ngIf="item.submenu" class="nav subnav" [routerLinkActive]="['opening']" [collapse]="collapses[idx]" (collapsed)="collapsed($event)">
        <li *ngFor='let subitem of item.submenu' [routerLinkActive]="['active']" [routerLinkActiveOptions]="{exact:true}">
          <!-- sublevel: single menu item  -->
          <a *ngIf="!subitem.submenu" [routerLink]="subitem.link" [attr.route]="subitem.link" title="{{subitem.text}}">
            <span class="pull-right" *ngIf="subitem.alert" [ngClass]="subitem.label || 'label label-success'">{{subitem.alert}}</span>
            <em class="{{subitem.icon}}" *ngIf="subitem.icon"></em>
            <em class="icon-arrow-right" *ngIf="!subitem.icon"></em>
            <span>{{(subitem.translate | translate) || subitem.text}}</span>
          </a>
          <!-- sublevel: has submenu -->
          <a *ngIf="subitem.submenu" title="{{subitem.text}}">
            <span class="pull-right" *ngIf="subitem.alert" [ngClass]="subitem.label || 'label label-success'">{{subitem.alert}}</span>
            <em class="{{subitem.icon}}" *ngIf="subitem.icon"></em>
            <em class="icon-arrow-right" *ngIf="!subitem.icon"></em>
            <span>{{(subitem.translate | translate) || subitem.text}}</span>
          </a>
          <!-- SUBLEVEL 2 -->
          <ul *ngIf="subitem.submenu" class="nav subnav" [routerLinkActive]="['opening']">
            <li *ngFor='let subitem2 of subitem.submenu' [routerLinkActive]="['active']" [routerLinkActiveOptions]="{exact:true}">
              <!-- sublevel 2: single menu item  -->
              <a [routerLink]="subitem2.link" [attr.route]="subitem2.link" title="{{subitem2.text}}">
                <span class="pull-right" *ngIf="subitem2.alert" [ngClass]="subitem2.label || 'label label-success'">{{subitem2.alert}}</span>
                <em class="{{subitem2.icon}}" *ngIf="subitem2.icon"></em>
                <em class="icon-arrow-right" *ngIf="!subitem2.icon"></em>
                <span>{{(subitem2.translate | translate) || subitem2.text}}</span>
              </a>
              <li>
          </ul>
          <li>
      </ul>
      </li>
  </ul>
  <!-- END sidebar nav-->
</nav>
